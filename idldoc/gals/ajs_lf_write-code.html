<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
 "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<!-- Generated by IDLdoc 3.0 on Fri Jan 16 23:50:54 2009 -->

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8"/>
    <title>ajs_lf_write.pro (Anthony Smith's IDL routines)</title>

    
    <link rel="stylesheet" type="text/css" media="all"
          href="../idldoc-resources/main.css" />
    <link rel="stylesheet" type="text/css" media="print"
          href="../idldoc-resources/main-print.css" />
    

    <script type="text/javascript">
      function setTitle() {
        parent.document.title="ajs_lf_write.pro (Anthony Smith's IDL routines)";
      }
    </script>
  </head>

  <body onload="setTitle();" id="root">
    <div class="content">
      <code class="source"><span class="comments">; docformat = 'rst'</span>
<span class="comments">;+</span>
<span class="comments">; This procedure takes arrays describing the LF (luminosity function)</span>
<span class="comments">; and writes the data either to a binary file or to a text file.</span>
<span class="comments">;</span>
<span class="comments">; :History: 11 Jan 2008 Created, Anthony Smith</span>
<span class="comments">;-</span>
PRO ajs_lf_write, bincentres, philf, philferr, $
                  datfile=datfile, txtfile=txtfile
  compile_opt idl2

  <span class="comments">;; Write LF to file</span>

  IF keyword_set(datfile) THEN BEGIN
      <span class="comments">;; Binary file</span>
      openw, unit, datfile, /get_lun
      IF n_params() EQ 3 THEN BEGIN
          writeu, unit, size(bincentres, /type), $
                  size(bincentres, /n_elements), $
                  bincentres, $
                  size(philf, /type), size(philf, /n_elements), philf, $
                  size(philferr, /type), size(philferr, /n_elements), philferr
      ENDIF ELSE IF n_params() EQ 2 THEN BEGIN
          writeu, unit, size(bincentres, /type), $
                  size(bincentres, /n_elements), $
                  bincentres, $
                  size(philf, /type), size(philf, /n_elements), philf
      ENDIF
      free_lun, unit     
  ENDIF
  IF keyword_set(txtfile) THEN BEGIN
      <span class="comments">;; Text file</span>
      openw, unit, txtfile, /get_lun
      FOR i = 0, n_elements(bincentres) - 1 DO BEGIN
          IF n_params() EQ 3 THEN $
             printf, unit, bincentres[i], philf[i], philferr[i] $
          ELSE IF n_params() EQ 2 THEN $
             printf, unit, bincentres[i], philf[i]
      ENDFOR 
      free_lun, unit
  ENDIF
END  
</code>
    </div>
  </body>
</html>