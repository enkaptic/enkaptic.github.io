<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
 "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<!-- Generated by IDLdoc 3.0 on Fri Jan 16 23:51:01 2009 -->

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8"/>
    <title>ajs_plot_stop.pro (Anthony Smith's IDL routines)</title>

    
    <link rel="stylesheet" type="text/css" media="all"
          href="../idldoc-resources/main.css" />
    <link rel="stylesheet" type="text/css" media="print"
          href="../idldoc-resources/main-print.css" />
    

    <script type="text/javascript">
      function setTitle() {
        parent.document.title="ajs_plot_stop.pro (Anthony Smith's IDL routines)";
      }
    </script>
  </head>

  <body onload="setTitle();" id="root">
    <div class="content">
      <code class="source"><span class="comments">; docformat = 'rst'</span>
<span class="comments">;+</span>
<span class="comments">; Stop plot (device/EPS settings, if required)</span>
<span class="comments">;</span>
<span class="comments">; :Keywords:</span>
<span class="comments">;    plotfile : in, optional</span>
<span class="comments">;       Name of EPS file. If EPS file required but not specified,</span>
<span class="comments">;       defaults to '/tmp/idl_plot.eps'</span>
<span class="comments">;    show_plot : in, optional</span>
<span class="comments">;       Close EPS file (for writing) and display the file (for viewing)</span>
<span class="comments">;    open : in, optional</span>
<span class="comments">;       Leave the plot open, unless /close is set</span>
<span class="comments">;    close : in, optional</span>
<span class="comments">;       Set /close to close an already open EPS file.</span>
<span class="comments">;-</span>
PRO ajs_plot_stop, plotfile=plotfile, show_plot=show_plot, open=open, $
                   close=close
  compile_opt idl2
  debug = ajs_debug()
  IF debug GE 2 THEN BEGIN 
      message, 'Stopping plot', /inf
      message, ajs_kw_string(plotfile=plotfile, show_plot=show_plot, $
                             open=open, close=close), /inf
  ENDIF 

  <span class="comments">;; Close plot (if open)</span>
  IF keyword_set(close) $
     OR ((n_elements(plotfile) GT 0 OR keyword_set(show_plot)) $
         AND NOT keyword_set(open)) $
<span class="comments">;;           OR (NOT keyword_set(close) AND NOT keyword_set(plotfile) $</span>
<span class="comments">;;               AND NOT keyword_set(open) AND NOT keyword_set(show_plot))) $</span>
  THEN BEGIN
      <span class="comments">;; Close Postscript file</span>
      device, /close
      set_plot, 'X'

      <span class="comments">;; Change thickness</span>
      !P.thick = 0
      !P.charthick = 0
      !X.thick = 0
      !Y.thick = 0
      !Z.thick = 0

      <span class="comments">;; Show plot</span>
      IF keyword_set(show_plot) THEN BEGIN
          IF n_elements(plotfile) EQ 0 THEN $
             plotfile = '/tmp/idl_plot.eps'
          ajs_open_file, plotfile
      ENDIF
  ENDIF 

END
</code>
    </div>
  </body>
</html>